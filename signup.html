<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- YEH SAB FAVICON LINES ADD KARO -->
    <link rel="icon" type="image/x-icon" href="https://cdn-icons-png.flaticon.com/512/4712/4712035.png">
     <title>Sign Up - AIProblemSolve | Free AI Solutions</title>
    <meta name="description" content="Sign up for AIProblemSolve - Create your free account and get AI problem solving help. Solve machine learning, deep learning and coding issues.">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .signup-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 450px;
            padding: 40px;
        }

        .logo {
            text-align: center;
            margin-bottom: 30px;
        }

        .logo h1 {
            color: #333;
            font-size: 28px;
            font-weight: 700;
        }

        .logo p {
            color: #666;
            margin-top: 5px;
        }

        .welcome-text {
            text-align: center;
            margin-bottom: 30px;
        }

        .welcome-text h2 {
            color: #333;
            font-size: 24px;
            margin-bottom: 8px;
        }

        .welcome-text p {
            color: #666;
            font-size: 14px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 500;
        }

        .form-group input {
            width: 100%;
            padding: 15px;
            border: 2px solid #e1e1e1;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .form-group input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .signup-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .signup-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .signup-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .divider {
            text-align: center;
            margin: 30px 0;
            position: relative;
            color: #666;
        }

        .divider::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 1px;
            background: #e1e1e1;
        }

        .divider span {
            background: white;
            padding: 0 15px;
            position: relative;
        }

        /* GOOGLE BUTTON - BADA AUR ATTRACTIVE */
        .google-btn-container {
            margin-bottom: 30px;
        }

        .google-btn {
            width: 100%;
            padding: 18px;
            border: 2px solid #e1e1e1;
            border-radius: 12px;
            background: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            transition: all 0.3s ease;
            font-weight: 600;
            font-size: 16px;
            color: #444;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .google-btn:hover {
            border-color: #DB4437;
            background: #f8f9ff;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(219, 68, 55, 0.2);
        }

        .google-btn:active {
            transform: translateY(-1px);
        }

        .google-icon {
            width: 24px;
            height: 24px;
            background: conic-gradient(from -45deg, #ea4335 110deg, #4285f4 90deg 180deg, #34a853 180deg 270deg, #fbbc05 270deg) 73% 55%/150% 150% no-repeat;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
            font-size: 14px;
        }

        .login-link {
            text-align: center;
            color: #666;
        }

        .login-link a {
            color: #667eea;
            text-decoration: none;
            font-weight: 500;
        }

        .login-link a:hover {
            text-decoration: underline;
        }

        .alert {
            padding: 12px;
            border-radius: 10px;
            margin-bottom: 20px;
            display: none;
        }

        .alert.error {
            background: #fee;
            border: 1px solid #f5c6cb;
            color: #721c24;
        }

        .alert.success {
            background: #e8f5e8;
            border: 1px solid #c3e6cb;
            color: #155724;
        }

        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #ffffff;
            border-radius: 50%;
            border-top-color: transparent;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="signup-container">
        <div class="logo">
            <h1>AI Problem Solve</h1>
            <p>Create Your Account</p>
        </div>

        <div id="alert" class="alert"></div>

        <form id="signupForm">
            <div class="form-group">
                <label for="name">Full Name</label>
                <input type="text" id="name" placeholder="Enter your full name" required>
            </div>

            <div class="form-group">
                <label for="email">Email address</label>
                <input type="email" id="email" placeholder="Enter your email" required>
            </div>

            <div class="form-group">
                <label for="password">Password</label>
                <input type="password" id="password" placeholder="Create a password" required>
            </div>

            <button type="submit" class="signup-btn" id="signupBtn">
                <span id="signupText">Create Account</span>
                <span id="signupLoading" class="loading" style="display: none;"></span>
            </button>
        </form>

        <div class="divider">
            <span>OR</span>
        </div>

        <!-- BADA GOOGLE BUTTON -->
        <div class="google-btn-container">
            <button class="google-btn" onclick="realGoogleSignup()">
                <div class="google-icon">G</div>
                Continue with Google
            </button>
        </div>

        <div class="login-link">
            Already have an account? <a href="login.html">Login</a>
        </div>
    </div>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>

<script>
const BACKEND_URL = 'https://python22.pythonanywhere.com';

// Firebase Configuration
const firebaseConfig = {
    apiKey: "AIzaSyC3AOd1RMqt25RxBJuqiMflJCprVf6zbIQ",
    authDomain: "ai-problem-solve.firebaseapp.com",
    projectId: "ai-problem-solve",
    storageBucket: "ai-problem-solve.firebasestorage.app",
    messagingSenderId: "685227630479",
    appId: "1:685227630479:web:02150c14f8c815d29a35fa"
};

// Firebase Initialize
firebase.initializeApp(firebaseConfig);

function showAlert(message, type = 'error') {
    const alert = document.getElementById('alert');
    alert.textContent = message;
    alert.className = `alert ${type}`;
    alert.style.display = 'block';
    
    setTimeout(() => {
        alert.style.display = 'none';
    }, 5000);
}

function setLoading(loading) {
    const signupBtn = document.getElementById('signupBtn');
    const signupText = document.getElementById('signupText');
    const signupLoading = document.getElementById('signupLoading');
    
    if (loading) {
        signupBtn.disabled = true;
        signupText.style.display = 'none';
        signupLoading.style.display = 'inline-block';
    } else {
        signupBtn.disabled = false;
        signupText.style.display = 'inline-block';
        signupLoading.style.display = 'none';
    }
}

// REAL GOOGLE SIGNUP
async function realGoogleSignup() {
    setLoading(true);
    
    try {
        const provider = new firebase.auth.GoogleAuthProvider();
        
        // Force account selection
        provider.setCustomParameters({
            prompt: 'select_account'
        });
        
        provider.addScope('email');
        provider.addScope('profile');
        
        // Google sign-in popup
        const result = await firebase.auth().signInWithPopup(provider);
        const user = result.user;
        
        // Send to backend
        await sendToBackendForSignup({
            email: user.email,
            name: user.displayName,
            profile_pic: user.photoURL,
            provider: 'google'
        });
        
    } catch (error) {
        console.error("Google Signup Error:", error);
        if (error.code === 'auth/popup-closed-by-user') {
            showAlert('Google signup cancelled', 'error');
        } else {
            showAlert('Google signup failed. Please try again.', 'error');
        }
    } finally {
        setLoading(false);
    }
}

// Backend signup
async function sendToBackendForSignup(userData) {
    setLoading(true);
    
    try {
        const response = await fetch('https://python22.pythonanywhere.com/api/google-login', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(userData)
        });
        
        const data = await response.json();
        
        if (data.success) {
            localStorage.setItem('token', data.token);
            localStorage.setItem('user', JSON.stringify(data.user));
            localStorage.setItem('currentUser', JSON.stringify(data.user));
            
            showAlert(`Welcome ${data.user.name}! Account created successfully.`, 'success');
            
            setTimeout(() => {
                window.location.href = 'index.html';
            }, 1000);
        } else {
            throw new Error(data.error || 'Signup failed');
        }
        
    } catch (error) {
        console.error('Backend error:', error);
        showAlert('Signup failed: ' + error.message, 'error');
    } finally {
        setLoading(false);
    }
}

// Regular signup form
document.getElementById('signupForm').addEventListener('submit', async function(e) {
    e.preventDefault();
    
    const name = document.getElementById('name').value;
    const email = document.getElementById('email').value;
    const password = document.getElementById('password').value;

    if (!name || !email || !password) {
        showAlert('Please fill in all fields');
        return;
    }

    if (password.length < 6) {
        showAlert('Password must be at least 6 characters long');
        return;
    }

    setLoading(true);

    try {
        const response = await fetch(`${BACKEND_URL}/api/signup`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({ name, email, password })
        });

        const data = await response.json();

        if (data.success) {
            showAlert('Account created successfully!', 'success');
            
            localStorage.setItem('token', data.token);
            localStorage.setItem('user', JSON.stringify(data.user));
            localStorage.setItem('currentUser', JSON.stringify(data.user));
            
            setTimeout(() => {
                window.location.href = 'index.html';
            }, 1000);
        } else {
            showAlert(data.error || 'Signup failed');
        }
    } catch (error) {
        showAlert('Network error. Please try again.');
    } finally {
        setLoading(false);
    }
});

// Check if user is already logged in
function checkAuth() {
    const token = localStorage.getItem('token');
    const currentUser = localStorage.getItem('currentUser');
    
    if (token && currentUser) {
        window.location.href = 'index.html';
    }
}

// Initialize
checkAuth();
</script>
    
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="google-site-verification" content="QGAC2Jplumbg2qTONhRetPHxFgyr4kedInaocXNiZ7g" />
    <!-- <meta name="description" content="AI Problem Solver - Get AI-powered solutions for your problems. Login to access advanced AI tools and services.">
    <meta charset="UTF-8" /> -->
    <!-- YEH SAB FAVICON LINES ADD KARO -->
    <link rel="icon" type="image/x-icon" href="https://cdn-icons-png.flaticon.com/512/4712/4712035.png">
    <link rel="shortcut icon" type="image/x-icon" href="https://cdn-icons-png.flaticon.com/512/4712/4712035.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://cdn-icons-png.flaticon.com/512/4712/4712035.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://cdn-icons-png.flaticon.com/512/4712/4712035.png">
    <link rel="apple-touch-icon" sizes="180x180" href="https://cdn-icons-png.flaticon.com/512/4712/4712035.png">
    <link rel="icon" type="image/png" sizes="192x192" href="https://cdn-icons-png.flaticon.com/512/4712/4712035.png">

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
 <title>AIProblemSolve - Free AI Problem Solving & Solutions 2024</title>
    <meta name="description" content="AIProblemSolve - Get instant AI problem solve solutions. Free AI problem solving help for machine learning, deep learning, neural networks and coding issues.">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="app-container">
      <!-- Sidebar -->
      <div class="sidebar">
        <div class="sidebar-header">
          <div class="user-profile">
            <img
              src="https://static.vecteezy.com/system/resources/previews/048/926/084/non_2x/silver-membership-icon-default-avatar-profile-icon-membership-icon-social-media-user-image-illustration-vector.jpg"
              alt="Profile Picture"
              class="profile-picture"
              id="profilePicture"
            />
            <div class="profile-controls">
              <button class="profile-btn" id="changeDpBtn">Change</button>
              <button class="profile-btn" id="removeDpBtn">Remove</button>
            </div>
          </div>
        </div>

        <div class="conversation-controls">
          <button id="newChat" class="sidebar-btn">
            <i class="fas fa-plus"></i> New Chat
          </button>
          <button id="clearHistory" class="sidebar-btn" onclick="clearChatHistory()">
            <i class="fas fa-trash"></i> Clear History
          </button>
          <button id="settingsBtn" class="sidebar-btn">
            <i class="fas fa-cog"></i> Settings
          </button>
        </div>

        <div class="theme-toggle">
          <span>Dark Mode</span>
          <label class="toggle-switch">
            <input type="checkbox" id="darkModeToggle" />
            <span class="slider"></span>
          </label>
        </div>

        <div class="language-selector">
          <label for="language">Language:</label>
          <select id="language">
            <option value="en">English</option>
            <option value="es">Spanish</option>
            <option value="fr">French</option>
            <option value="de">German</option>
            <option value="zh">Chinese</option>
            <option value="ja">Japanese</option>
            <option value="ar">Arabic</option>
            <option value="hi">Hindi</option>
            <option value="ru">Russian</option>
          </select>
        </div>
      </div>

      <!-- Main Chat Area -->
      <div class="main-content">
        <div class="chat-header">
          <button class="menu-toggle" id="menuToggle">
            <i class="fas fa-bars"></i>
          </button>

          <div class="chat-title">
            <div id="normalText">AI PROBLEM SOLVE</div>
          </div>
          <div class="chat-controls1">
            <button class="control-btn1" id="aiToggle">ON</button>
            <button class="control-btn" id="textColorBtn"></button>
          </div>
        </div>

        <div class="chat-container" id="chatContainer">
          <div class="welcome-message" id="welcomeMessage">
            <h1 id="heading">AI PROBLEM SOLVE</h1>
            <p>
              How can I help you today? I can assist with problem solving and much more!
            </p>
          </div>
          <div class="messages-container" id="messagesContainer"></div>
        </div>

        <div class="input-container">
          <div class="image-upload">
            <input
              type="file"
              id="imageInput"
              accept="image/*"
              style="display: none"
            />
            <button id="uploadBtn" class="upload-btn">
              <i class="fas fa-image"></i>
            </button>
            <span id="fileName" class="file-name"></span>
          </div>

          <div class="text-input-container">
            <textarea
              id="userInput"
              placeholder="Type your message here..."
              rows="1"
            ></textarea>

            <button id="sendButton" class="send-btn" onclick="sendMessage()">
              <i class="fas fa-paper-plane"></i>
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Settings Modal -->
    <div class="modal" id="settingsModal">
      <div class="modal-content">
        <div class="modal-header">
          <h3 class="modal-title">Settings</h3>
          <button class="close-modal" id="closeSettings">&times;</button>
        </div>
        <div class="modal-body">
          <div class="tab-container">
            <div class="tab-buttons">
              <button class="tab-button active" data-tab="appearance">
                Appearance
              </button>
              <button class="tab-button" data-tab="history">History</button>
              <button class="tab-button" data-tab="logout">Logout</button>
            </div>
            <div class="tab-content">
              <div class="tab-pane active" id="appearanceTab">
                <div class="setting-group">
                  <h4>Text Color</h4>
                  <div class="color-picker" id="textColorPicker">
                    <div
                      class="color-option active"
                      style="background-color: #333"
                      data-color="#333"
                    ></div>
                    <div
                      class="color-option"
                      style="background-color: #6a11cb"
                      data-color="#6a11cb"
                    ></div>
                    <div
                      class="color-option"
                      style="background-color: #2575fc"
                      data-color="#2575fc"
                    ></div>
                    <div
                      class="color-option"
                      style="background-color: #00c6ff"
                      data-color="#00c6ff"
                    ></div>
                    <div
                      class="color-option"
                      style="background-color: #e74c3c"
                      data-color="#e74c3c"
                    ></div>
                    <div
                      class="color-option"
                      style="background-color: #2ecc71"
                      data-color="#2ecc71"
                    ></div>
                    <div
                      class="color-option"
                      style="background-color: #f39c12"
                      data-color="#f39c12"
                    ></div>
                    <div
                      class="color-option"
                      style="background-color: #9b59b6"
                      data-color="#9b59b6"
                    ></div>
                  </div>
                </div>
              </div>

              <div class="tab-pane" id="historyTab">
                <h4>Chat History</h4>
                <div class="history-list" id="historyList"></div>
                <div class="history-actions">
                  <button
                    class="history-btn delete"
                    id="clearAllHistory"
                    onclick="clearChatHistory()"
                  >
                    Clear All History
                  </button>
                </div>
              </div>

              <!-- SIRF LOGOUT TAB -->
              <div class="tab-pane" id="logoutTab">
                <div class="logout-section">
                  <div class="logout-icon">
                    <i class="fas fa-sign-out-alt"></i>
                  </div>
                  <h4>Logout from AI Tool</h4>
                  <p>Are you sure you want to logout? You'll need to sign in again to access your account.</p>
                  
                  <div class="logout-actions">
                    <button class="logout-btn-confirm" onclick="logout()">
                      <i class="fas fa-sign-out-alt"></i>
                      Yes, Logout
                    </button>
                    <button class="logout-btn-cancel" onclick="closeSettingsModal()">
                      <i class="fas fa-times"></i>
                      Cancel
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="modal-footer">
          <button class="btn btn-secondary" id="cancelSettings">Cancel</button>
          <button class="btn btn-primary" id="saveSettings">Save</button>
        </div>
      </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <script>
      // Authentication check
      document.addEventListener('DOMContentLoaded', function() {
        console.log("AI Problem Solve - Main App Loading");
        
        // Simple authentication check
        const token = localStorage.getItem('token');
        const currentUser = localStorage.getItem('currentUser');
        
        console.log("Auth status - Token:", !!token, "User:", !!currentUser);
        
        // If no authentication, redirect to login
        if (!token || !currentUser) {
          console.log("No authentication found, redirecting to login...");
          window.location.href = "login.html";
          return;
        }
        
        console.log("User authenticated, loading app...");
        initializeApp();
      });

      // Logout function
      function logout() {
        if(confirm('Are you sure you want to logout?')) {
          // Clear all storage
          localStorage.removeItem('currentUser');
          localStorage.removeItem('token');
          localStorage.removeItem('user');
          
          // Redirect to login
          window.location.href = "login.html";
        }
      }

      // Close settings modal function
      function closeSettingsModal() {
        document.getElementById('settingsModal').style.display = 'none';
      }

      // Initialize app functionality
      function initializeApp() {
        console.log("Initializing app features...");
        
        // Tab switching
        const tabButtons = document.querySelectorAll('.tab-button');
        const tabPanes = document.querySelectorAll('.tab-pane');
        
        tabButtons.forEach(button => {
          button.addEventListener('click', function() {
            const targetTab = this.getAttribute('data-tab');
            
            tabButtons.forEach(btn => btn.classList.remove('active'));
            tabPanes.forEach(pane => pane.classList.remove('active'));
            
            this.classList.add('active');
            document.getElementById(targetTab + 'Tab').classList.add('active');
          });
        });

        // Modal functionality
        const settingsBtn = document.getElementById('settingsBtn');
        const settingsModal = document.getElementById('settingsModal');
        const closeSettings = document.getElementById('closeSettings');
        const cancelSettings = document.getElementById('cancelSettings');

        if(settingsBtn) {
          settingsBtn.addEventListener('click', function() {
            settingsModal.style.display = 'block';
          });
        }

        if(closeSettings) {
          closeSettings.addEventListener('click', closeSettingsModal);
        }

        if(cancelSettings) {
          cancelSettings.addEventListener('click', closeSettingsModal);
        }

        // Save settings
        const saveSettings = document.getElementById('saveSettings');
        if(saveSettings) {
          saveSettings.addEventListener('click', function() {
            closeSettingsModal();
            alert('Settings saved successfully!');
          });
        }

        // Mobile menu toggle
        const menuToggle = document.getElementById('menuToggle');
        const sidebar = document.querySelector('.sidebar');
        
        if(menuToggle && sidebar) {
          menuToggle.addEventListener('click', function() {
            sidebar.classList.toggle('mobile-active');
          });
        }

        // Image upload functionality
        const imageInput = document.getElementById('imageInput');
        const uploadBtn = document.getElementById('uploadBtn');
        
        if(uploadBtn && imageInput) {
          uploadBtn.addEventListener('click', function() {
            imageInput.click();
          });
        }

        if(imageInput) {
          imageInput.addEventListener('change', function() {
            if(this.files && this.files[0]) {
              const fileName = document.getElementById('fileName');
              fileName.textContent = this.files[0].name;
              
              // Display the uploaded image in chat
              displayImageMessage(this.files[0], true);
            }
          });
        }

        console.log("App initialized successfully!");
      }

      // Display image message in chat
      function displayImageMessage(file, isUser) {
        const messagesContainer = document.getElementById('messagesContainer');
        const welcomeMessage = document.getElementById('welcomeMessage');
        
        // Hide welcome message if it's visible
        if(welcomeMessage) {
          welcomeMessage.style.display = 'none';
        }
        
        const messageDiv = document.createElement('div');
        messageDiv.className = `message ${isUser ? 'user-message' : 'ai-message'}`;
        
        const messageHeader = document.createElement('div');
        messageHeader.className = 'message-header';
        
        const avatar = document.createElement('img');
        avatar.className = 'message-avatar';
        avatar.src = isUser 
          ? 'https://static.vecteezy.com/system/resources/previews/048/926/084/non_2x/silver-membership-icon-default-avatar-profile-icon-membership-icon-social-media-user-image-illustration-vector.jpg'
          : 'https://cdn-icons-png.flaticon.com/512/4712/4712035.png';
        avatar.alt = isUser ? 'User Avatar' : 'AI Avatar';
        
        const sender = document.createElement('div');
        sender.className = 'message-sender';
        sender.textContent = isUser ? 'You' : 'AI Problem Solver';
        
        messageHeader.appendChild(avatar);
        messageHeader.appendChild(sender);
        
        const messageImage = document.createElement('div');
        messageImage.className = 'message-image';
        
        const img = document.createElement('img');
        img.src = URL.createObjectURL(file);
        img.alt = 'Uploaded image';
        
        messageImage.appendChild(img);
        
        const messageTime = document.createElement('div');
        messageTime.className = 'message-time';
        messageTime.textContent = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
        
        messageDiv.appendChild(messageHeader);
        messageDiv.appendChild(messageImage);
        messageDiv.appendChild(messageTime);
        
        messagesContainer.appendChild(messageDiv);
        
        // Scroll to bottom
        scrollAfterMessage();
        
        // If it's a user image, simulate AI response after a delay
        if(isUser) {
          setTimeout(() => {
            simulateAIResponse(file);
          }, 1000);
        }
      }

      // Simulate AI response with image
      function simulateAIResponse(userImageFile) {
        const messagesContainer = document.getElementById('messagesContainer');
        
        // Create typing indicator
        const typingIndicator = document.createElement('div');
        typingIndicator.className = 'typing-indicator';
        typingIndicator.innerHTML = `
          <div class="message-header">
            <img class="message-avatar" src="https://cdn-icons-png.flaticon.com/512/4712/4712035.png" alt="AI Avatar">
            <div class="message-sender">AI Problem Solver</div>
          </div>
          <div class="typing-dots">
            <div class="typing-dot"></div>
            <div class="typing-dot"></div>
            <div class="typing-dot"></div>
          </div>
        `;
        
        messagesContainer.appendChild(typingIndicator);
        scrollAfterMessage();
        
        // Remove typing indicator after delay and show response
        setTimeout(() => {
          typingIndicator.remove();
          
          // Create AI response
          const messageDiv = document.createElement('div');
          messageDiv.className = 'message ai-message';
          
          const messageHeader = document.createElement('div');
          messageHeader.className = 'message-header';
          
          const avatar = document.createElement('img');
          avatar.className = 'message-avatar';
          avatar.src = 'https://cdn-icons-png.flaticon.com/512/4712/4712035.png';
          avatar.alt = 'AI Avatar';
          
          const sender = document.createElement('div');
          sender.className = 'message-sender';
          sender.textContent = 'AI Problem Solver';
          
          messageHeader.appendChild(avatar);
          messageHeader.appendChild(sender);
          
          const messageText = document.createElement('div');
          messageText.className = 'message-text';
          messageText.textContent = "I've analyzed your image. Here's what I found:";
          
          // Create AI image response (simulated)
          const messageImage = document.createElement('div');
          messageImage.className = 'message-image';
          
          const img = document.createElement('img');
          // In a real app, this would be the AI-processed image
          // For demo, we'll use a placeholder
          img.src = 'https://via.placeholder.com/300x200/6a11cb/ffffff?text=AI+Analysis';
          img.alt = 'AI Analysis Result';
          
          messageImage.appendChild(img);
          
          const additionalText = document.createElement('div');
          additionalText.className = 'message-text';
          additionalText.textContent = "The AI has processed your image and provided the analysis above. Is there anything specific you'd like me to help with?";
          
          const messageTime = document.createElement('div');
          messageTime.className = 'message-time';
          messageTime.textContent = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
          
          messageDiv.appendChild(messageHeader);
          messageDiv.appendChild(messageText);
          messageDiv.appendChild(messageImage);
          messageDiv.appendChild(additionalText);
          messageDiv.appendChild(messageTime);
          
          messagesContainer.appendChild(messageDiv);
          
          // Scroll to bottom
          scrollAfterAIResponse();
        }, 2000);
      }

      // Send message function
      function sendMessage() {
        const userInput = document.getElementById('userInput');
        const message = userInput.value.trim();
        
        if (message === '') return;
        
        // Hide welcome message
        const welcomeMessage = document.getElementById('welcomeMessage');
        if(welcomeMessage) {
          welcomeMessage.style.display = 'none';
        }
        
        // Create user message
        const messagesContainer = document.getElementById('messagesContainer');
        const messageDiv = document.createElement('div');
        messageDiv.className = 'message user-message';
        
        const messageHeader = document.createElement('div');
        messageHeader.className = 'message-header';
        
        const avatar = document.createElement('img');
        avatar.className = 'message-avatar';
        avatar.src = 'https://static.vecteezy.com/system/resources/previews/048/926/084/non_2x/silver-membership-icon-default-avatar-profile-icon-membership-icon-social-media-user-image-illustration-vector.jpg';
        avatar.alt = 'User Avatar';
        
        const sender = document.createElement('div');
        sender.className = 'message-sender';
        sender.textContent = 'You';
        
        messageHeader.appendChild(avatar);
        messageHeader.appendChild(sender);
        
        const messageText = document.createElement('div');
        messageText.className = 'message-text';
        messageText.textContent = message;
        
        const messageTime = document.createElement('div');
        messageTime.className = 'message-time';
        messageTime.textContent = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
        
        messageDiv.appendChild(messageHeader);
        messageDiv.appendChild(messageText);
        messageDiv.appendChild(messageTime);
        
        messagesContainer.appendChild(messageDiv);
        
        // Clear input and scroll
        userInput.value = '';
        scrollAfterMessage();
        
        // Simulate AI response
        setTimeout(() => {
          // Create typing indicator
          const typingIndicator = document.createElement('div');
          typingIndicator.className = 'typing-indicator';
          typingIndicator.innerHTML = `
            <div class="message-header">
              <img class="message-avatar" src="https://cdn-icons-png.flaticon.com/512/4712/4712035.png" alt="AI Avatar">
              <div class="message-sender">AI Problem Solver</div>
            </div>
            <div class="typing-dots">
              <div class="typing-dot"></div>
              <div class="typing-dot"></div>
              <div class="typing-dot"></div>
            </div>
          `;
          
          messagesContainer.appendChild(typingIndicator);
          scrollAfterMessage();
          
          // Remove typing indicator after delay and show response
          setTimeout(() => {
            typingIndicator.remove();
            
            // Create AI response
            const aiMessageDiv = document.createElement('div');
            aiMessageDiv.className = 'message ai-message';
            
            const aiMessageHeader = document.createElement('div');
            aiMessageHeader.className = 'message-header';
            
            const aiAvatar = document.createElement('img');
            aiAvatar.className = 'message-avatar';
            aiAvatar.src = 'https://cdn-icons-png.flaticon.com/512/4712/4712035.png';
            aiAvatar.alt = 'AI Avatar';
            
            const aiSender = document.createElement('div');
            aiSender.className = 'message-sender';
            aiSender.textContent = 'AI Problem Solver';
            
            aiMessageHeader.appendChild(aiAvatar);
            aiMessageHeader.appendChild(aiSender);
            
            const aiMessageText = document.createElement('div');
            aiMessageText.className = 'message-text';
            
            // Simple response based on message content
            if (message.toLowerCase().includes('hello') || message.toLowerCase().includes('hi')) {
              aiMessageText.textContent = "Hello! How can I assist you today?";
            } else if (message.toLowerCase().includes('problem')) {
              aiMessageText.textContent = "I understand you have a problem. Could you please provide more details so I can help you better?";
            } else if (message.toLowerCase().includes('thank')) {
              aiMessageText.textContent = "You're welcome! Is there anything else I can help you with?";
            } else {
              aiMessageText.textContent = "Thank you for your message. I'm analyzing your request and will provide the best possible solution.";
            }
            
            const aiMessageTime = document.createElement('div');
            aiMessageTime.className = 'message-time';
            aiMessageTime.textContent = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            
            aiMessageDiv.appendChild(aiMessageHeader);
            aiMessageDiv.appendChild(aiMessageText);
            aiMessageDiv.appendChild(aiMessageTime);
            
            messagesContainer.appendChild(aiMessageDiv);
            
            // Scroll to bottom
            scrollAfterAIResponse();
          }, 1500);
        }, 500);
      }

      // AUTO SCROLL CODE - ChatGPT jaisa smooth auto scroll
      function autoScrollToBottom() {
        const messagesContainer = document.getElementById('messagesContainer');
        if (messagesContainer) {
          messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }
      }

      function smoothAutoScroll() {
        const messagesContainer = document.getElementById('messagesContainer');
        if (messagesContainer) {
          messagesContainer.scrollTo({
            top: messagesContainer.scrollHeight,
            behavior: 'smooth'
          });
        }
      }

      function scrollAfterMessage() {
        setTimeout(() => {
          smoothAutoScroll();
        }, 50);
      }

      function scrollAfterAIResponse() {
        setTimeout(() => {
          smoothAutoScroll();
        }, 100);
      }

      // Page load par scroll to bottom
      window.addEventListener('load', function() {
        setTimeout(() => {
          autoScrollToBottom();
        }, 500);
      });

      // Real-time auto scroll observer
      function initAutoScrollObserver() {
        const messagesContainer = document.getElementById('messagesContainer');
        
        if (messagesContainer) {
          const observer = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
              if (mutation.type === 'childList') {
                scrollAfterMessage();
              }
            });
          });
          
          observer.observe(messagesContainer, {
            childList: true,
            subtree: true
          });
        }
      }

      // Initialize auto scroll
      initAutoScrollObserver();

      function clearChatHistory() {
        if(confirm('Are you sure you want to clear all chat history?')) {
          const messagesContainer = document.getElementById('messagesContainer');
          const welcomeMessage = document.getElementById('welcomeMessage');
          
          if(messagesContainer) {
            messagesContainer.innerHTML = '';
          }
          
          if(welcomeMessage) {
            welcomeMessage.style.display = 'flex';
          }
          
          console.log("Chat history cleared");
          alert('Chat history cleared!');
        }
      }
      
    </script>
        <script src="script.js"></script>
</body>
</html>
